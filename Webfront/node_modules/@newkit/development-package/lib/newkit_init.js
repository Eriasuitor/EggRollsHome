require('shelljs/global');
const util = require('../util');

module.exports = () => {
  let needInstallModules = [
    '@angular/animations',
    '@angular/common',
    '@angular/compiler',
    '@angular/core',
    '@angular/forms',
    '@angular/http',
    '@angular/platform-browser',
    '@angular/platform-browser-dynamic',
    '@angular/router',
    '@newkit/core',
    '@ngx-translate/core',
    '@types/node',
    'rxjs'
  ];
  let npmCmd = `npm i -D ${needInstallModules.join(' ')} --registry http://10.16.75.27:7001 --color=always`;
  exec(npmCmd);
  // 拷贝tsconfig
  cp(util.root('dev-package/tsconfig.json'), util.cwd());

  console.log('项目初始化完成！');
};
